/* -*- Mode: C; c-basic-offset:2 ; indent-tabs-mode:nil ; -*- */
/* The sole purpose of this file is to tag the MPI functions */
/* In a static library with the "always_inline" attribute    */
/* This allows an application with ipo enabled to inline     */
/* the function directly into the application despite        */
/* mpi header files not using attribute inline               */
#ifdef __INTEL_COMPILER

#define IL(ret,fcname) ret PMPI_##fcname() __attribute__((always_inline)); \
  ret MPI_##fcname() __attribute__((always_inline))
IL(int,Send);
IL(int,Win_get_group);
IL(int,Recv);
IL(int,Win_lock);
IL(int,Get_count);
IL(int,Win_post);
IL(int,Bsend);
IL(int,Win_start);
IL(int,Ssend);
IL(int,Win_test);
IL(int,Rsend);
IL(int,Win_unlock);
IL(int,Buffer_attach);
IL(int,Win_wait);
IL(int,Buffer_detach);
IL(int,Win_allocate);
IL(int,Isend);
IL(int,Win_allocate_shared);
IL(int,Ibsend);
IL(int,Win_shared_query);
IL(int,Issend);
IL(int,Win_create_dynamic);
IL(int,Irsend);
IL(int,Win_attach);
IL(int,Irecv);
IL(int,Win_detach);
IL(int,Wait);
IL(int,Win_get_info);
IL(int,Test);
IL(int,Win_set_info);
IL(int,Request_free);
IL(int,Get_accumulate);
IL(int,Waitany);
IL(int,Fetch_and_op);
IL(int,Testany);
IL(int,Compare_and_swap);
IL(int,Waitall);
IL(int,Rput);
IL(int,Testall);
IL(int,Rget);
IL(int,Waitsome);
IL(int,Raccumulate);
IL(int,Testsome);
IL(int,Rget_accumulate);
IL(int,Iprobe);
IL(int,Win_lock_all);
IL(int,Probe);
IL(int,Win_unlock_all);
IL(int,Cancel);
IL(int,Win_flush);
IL(int,Test_cancelled);
IL(int,Win_flush_all);
IL(int,Send_init);
IL(int,Win_flush_local);
IL(int,Bsend_init);
IL(int,Win_flush_local_all);
IL(int,Ssend_init);
IL(int,Win_sync);
IL(int,Rsend_init);
IL(int,Add_error_class);
IL(int,Recv_init);
IL(int,Add_error_code);
IL(int,Start);
IL(int,Add_error_string);
IL(int,Startall);
IL(int,Comm_call_errhandler);
IL(int,Sendrecv);
IL(int,Comm_create_keyval);
IL(int,Sendrecv_replace);
IL(int,Comm_delete_attr);
IL(int,Type_contiguous);
IL(int,Comm_free_keyval);
IL(int,Type_vector);
IL(int,Comm_get_attr);
IL(int,Type_hvector);
IL(int,Comm_get_name);
IL(int,Type_indexed);
IL(int,Comm_set_attr);
IL(int,Type_hindexed);
IL(int,Comm_set_name);
IL(int,Type_struct);
IL(int,File_call_errhandler);
IL(int,Address);
IL(int,Grequest_complete);
IL(int,Type_extent);
IL(int,Grequest_start);
IL(int,Type_size);
IL(int,Init_thread);
IL(int,Type_lb);
IL(int,Is_thread_main);
IL(int,Type_ub);
IL(int,Query_thread);
IL(int,Type_commit);
IL(int,Status_set_cancelled);
IL(int,Type_free);
IL(int,Status_set_elements);
IL(int,Get_elements);
IL(int,Type_create_keyval);
IL(int,Pack);
IL(int,Type_delete_attr);
IL(int,Unpack);
IL(int,Type_dup);
IL(int,Pack_size);
IL(int,Type_free_keyval);
IL(int,Barrier);
IL(int,Type_get_attr);
IL(int,Bcast);
IL(int,Type_get_contents);
IL(int,Gather);
IL(int,Type_get_envelope);
IL(int,Gatherv);
IL(int,Type_get_name);
IL(int,Scatter);
IL(int,Type_set_attr);
IL(int,Scatterv);
IL(int,Type_set_name);
IL(int,Allgather);
IL(int,Type_match_size);
IL(int,Allgatherv);
IL(int,Win_call_errhandler);
IL(int,Alltoall);
IL(int,Win_create_keyval);
IL(int,Alltoallv);
IL(int,Win_delete_attr);
IL(int,Alltoallw);
IL(int,Win_free_keyval);
IL(int,Exscan);
IL(int,Win_get_attr);
IL(int,Reduce);
IL(int,Win_get_name);
IL(int,Op_create);
IL(int,Win_set_attr);
IL(int,Op_free);
IL(int,Win_set_name);
IL(int,Allreduce);
IL(int,Alloc_mem);
IL(int,Reduce_scatter);
IL(int,Comm_create_errhandler);
IL(int,Scan);
IL(int,Comm_get_errhandler);
IL(int,Group_size);
IL(int,Comm_set_errhandler);
IL(int,Group_rank);
IL(int,File_create_errhandler);
IL(int,Group_translate_ranks);
IL(int,File_get_errhandler);
IL(int,Group_compare);
IL(int,File_set_errhandler);
IL(int,Comm_group);
IL(int,Finalized);
IL(int,Group_union);
IL(int,Free_mem);
IL(int,Group_intersection);
IL(int,Get_address);
IL(int,Group_difference);
IL(int,Info_create);
IL(int,Group_incl);
IL(int,Info_delete);
IL(int,Group_excl);
IL(int,Info_dup);
IL(int,Group_range_incl);
IL(int,Info_free);
IL(int,Group_range_excl);
IL(int,Info_get);
IL(int,Group_free);
IL(int,Info_get_nkeys);
IL(int,Comm_size);
IL(int,Info_get_nthkey);
IL(int,Comm_rank);
IL(int,Info_get_valuelen);
IL(int,Comm_compare);
IL(int,Info_set);
IL(int,Comm_dup);
IL(int,Pack_external);
IL(int,Comm_dup_with_info);
IL(int,Pack_external_size);
IL(int,Comm_create);
IL(int,Request_get_status);
IL(int,Comm_split);
IL(int,Status_c2f);
IL(int,Comm_free);
IL(int,Iallreduce);
IL(int,Comm_test_inter);
IL(int,Type_create_darray);
IL(int,Comm_remote_size);
IL(int,Type_create_hindexed);
IL(int,Comm_remote_group);
IL(int,Type_create_hvector);
IL(int,Intercomm_create);
IL(int,Type_create_indexed_block);
IL(int,Intercomm_merge);
IL(int,Type_create_hindexed_block);
IL(int,Keyval_create);
IL(int,Type_create_resized);
IL(int,Keyval_free);
IL(int,Type_create_struct);
IL(int,Attr_put);
IL(int,Type_create_subarray);
IL(int,Attr_get);
IL(int,Type_get_extent);
IL(int,Attr_delete);
IL(int,Type_get_true_extent);
IL(int,Topo_test);
IL(int,Unpack_external);
IL(int,Cart_create);
IL(int,Win_create_errhandler);
IL(int,Dims_create);
IL(int,Win_get_errhandler);
IL(int,Graph_create);
IL(int,Win_set_errhandler);
IL(int,Graphdims_get);
IL(int,Type_create_f90_integer);
IL(int,Graph_get);
IL(int,Type_create_f90_real);
IL(int,Cartdim_get);
IL(int,Type_create_f90_complex);
IL(int,Cart_get);
IL(int,Reduce_local);
IL(int,Cart_rank);
IL(int,Op_commutative);
IL(int,Cart_coords);
IL(int,Reduce_scatter_block);
IL(int,Graph_neighbors_count);
IL(int,Dist_graph_create_adjacent);
IL(int,Graph_neighbors);
IL(int,Dist_graph_create);
IL(int,Cart_shift);
IL(int,Dist_graph_neighbors_count);
IL(int,Cart_sub);
IL(int,Dist_graph_neighbors);
IL(int,Cart_map);
IL(int,Improbe);
IL(int,Graph_map);
IL(int,Imrecv);
IL(int,Get_processor_name);
IL(int,Mprobe);
IL(int,Get_version);
IL(int,Mrecv);
IL(int,Get_library_version);
IL(int,Comm_idup);
IL(int,Errhandler_create);
IL(int,Ibarrier);
IL(int,Errhandler_set);
IL(int,Ibcast);
IL(int,Errhandler_get);
IL(int,Igather);
IL(int,Errhandler_free);
IL(int,Igatherv);
IL(int,Error_string);
IL(int,Iscatter);
IL(int,Error_class);
IL(int,Iscatterv);
IL(double,Wtime);
IL(int,Iallgather);
IL(double,Wtick);
IL(int,Iallgatherv);
IL(int,Init);
IL(int,Ialltoall);
IL(int,Finalize);
IL(int,Ialltoallv);
IL(int,Initialized);
IL(int,Ialltoallw);
IL(int,Abort);
IL(int,Ireduce);
IL(int,Close_port);
IL(int,Ireduce_scatter);
IL(int,Comm_accept);
IL(int,Ireduce_scatter_block);
IL(int,Comm_connect);
IL(int,Iscan);
IL(int,Comm_disconnect);
IL(int,Iexscan);
IL(int,Comm_get_parent);
IL(int,Ineighbor_allgather);
IL(int,Comm_join);
IL(int,Ineighbor_allgatherv);
IL(int,Comm_spawn);
IL(int,Ineighbor_alltoall);
IL(int,Comm_spawn_multiple);
IL(int,Ineighbor_alltoallv);
IL(int,Lookup_name);
IL(int,Ineighbor_alltoallw);
IL(int,Open_port);
IL(int,Neighbor_allgather);
IL(int,Publish_name);
IL(int,Neighbor_allgatherv);
IL(int,Unpublish_name);
IL(int,Neighbor_alltoall);
IL(int,Comm_set_info);
IL(int,Neighbor_alltoallv);
IL(int,Comm_get_info);
IL(int,Neighbor_alltoallw);
IL(int,Accumulate);
IL(int,Comm_split_type);
IL(int,Get);
IL(int,Comm_create_group);
IL(int,Put);
IL(int,Get_elements_x);
IL(int,Win_complete);
IL(int,Status_set_elements_x);
IL(int,Win_create);
IL(int,Type_get_extent_x);
IL(int,Win_fence);
IL(int,Type_get_true_extent_x);
IL(int,Win_free);
IL(int,Type_size_x);

/* Internal inliner functions, like malloc */
#define IL2(ret,fcname) ret MPIU_##fcname() __attribute__((always_inline))
#define IL3(ret,fcname) ret MPIR_##fcname() __attribute__((always_inline))

IL2(int,CheckHandlesOnFinalize);
IL2(void *,Handle_indirect_init);
IL2(void *,Handle_obj_alloc_unsafe);
IL2(void *,Handle_obj_alloc);
IL2(void ,Handle_obj_free);
IL3(const char *, MPIR_ObjectName);
#endif /* __INTEL_COMPILER */
